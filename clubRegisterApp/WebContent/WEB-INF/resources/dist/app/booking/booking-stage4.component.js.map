{"version":3,"sources":["booking/booking-stage4.component.ts"],"names":[],"mappings":"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","file":"booking/booking-stage4.component.js","sourcesContent":["import { Component }      from '@angular/core';\nimport { Router }         from '@angular/router';\n\nimport {TabView} from 'primeng/primeng';\nimport {TabPanel} from 'primeng/primeng';\n\nimport { LoggerService }  from '../services/logger.service';\nimport { BookingService } from '../services/booking.service';\n\n@Component({\n\t//templateUrl: 'app/booking/booking-stage1.component.html',\n\ttemplate: `\n\t\t\t<div class=\"panel\">\n\t\t\t\t<div class=\"panel-heading avenue-heading\">\n\t\t\t\t\tStep 4: Payment\n\t\t\t\t</div>\n\t\t\t\t<div class=\"panel-body avenue-body\">\n\t\t\t\t\t<p-tabView orientation=\"left\" class=\"parent\">\n\t\t\t\t\t    <p-tabPanel header=\"Step 1: Dates\" [disabled]=\"true\">\n\t\t\t\t\t       Booking Step 1\n\t\t\t\t\t    </p-tabPanel>\n\t\t\t\t\t    <p-tabPanel header=\"Step 2: Parking\" [disabled]=\"true\">\n\t\t\t\t\t\t\tParking\n\t\t\t\t\t    </p-tabPanel>\n\t\t\t\t\t    <p-tabPanel header=\"Step 3: Contact Details\" [disabled]=\"true\">\n\t\t\t\t\t        Contact Details    \n\t\t\t\t\t    </p-tabPanel>\n\t\t\t\t\t    <p-tabPanel header=\"Step 4: Payment\" [selected]=\"true\">\n\t\t\t\t\t        Order summary:\n\t\t\t\t\t        <div style=\"border: 1px solid;\">\n\t\t\t\t\t        \t<table>\n\t\t\t\t\t        \t\t<tr>\n\t\t\t\t\t        \t\t\t<td>Name: </td>\n\t\t\t\t\t        \t\t\t<td>{{bk$.firstname}}&nbsp;{{bk$.surname}}<td>\n\t\t\t\t\t        \t\t</tr>\n\t\t\t\t\t        \t\t<tr>\n\t\t\t\t\t        \t\t\t<td>Email:&nbsp;</td>\n\t\t\t\t\t        \t\t\t<td>{{bk$.email}}<td>\n\t\t\t\t\t        \t\t</tr>\n\t\t\t\t\t        \t\t<tr>\n\t\t\t\t\t        \t\t\t<td>Phone:&nbsp;</td>\n\t\t\t\t\t        \t\t\t<td>{{bk$.phone}}<td>\n\t\t\t\t\t        \t\t</tr>\n\t\t\t\t\t        \t\t<tr>\n\t\t\t\t\t        \t\t\t<td>Car Reg:&nbsp;</td>\n\t\t\t\t\t        \t\t\t<td>{{bk$.vehicalReg}}<td>\n\t\t\t\t\t        \t\t</tr>\n\t\t\t\t\t        \t\t<tr>\n\t\t\t\t\t        \t\t\t<td>Arrival:&nbsp;</td>\n\t\t\t\t\t        \t\t\t<td>{{bk$.arrivalDate}}<td>\n\t\t\t\t\t        \t\t</tr>\n\t\t\t\t\t        \t\t<tr>\n\t\t\t\t\t        \t\t\t<td>Departure:&nbsp;</td>\n\t\t\t\t\t        \t\t\t<td>{{bk$.departureDate}}<td>\n\t\t\t\t\t        \t\t</tr>\n\t\t\t\t\t        \t\t<tr>\n\t\t\t\t\t        \t\t\t<td>Nights:&nbsp;</td>\n\t\t\t\t\t        \t\t\t<td>{{bk$.numberOfNights}}<td>\n\t\t\t\t\t        \t\t</tr>\n\t\t\t\t\t        \t\t<tr>\n\t\t\t\t\t        \t\t\t<td>People:&nbsp;</td>\n\t\t\t\t\t        \t\t\t<td>{{bk$.numberOfPeople}}<td>\n\t\t\t\t\t        \t\t</tr>\n\t\t\t\t\t        \t\t<tr>\n\t\t\t\t\t        \t\t\t<td>Parking:&nbsp;</td>\n\t\t\t\t\t        \t\t\t<td>{{bk$.parking}} car<span *ngIf=\"(bk$.parking>1)\">s</span><td>\n\t\t\t\t\t        \t\t</tr>\n\t\t\t\t\t        \t</table>\n\t\t\t\t\t       \t</div>\n\t\t\t\t\t       \t<br /><br />\n\t\t\t\t\t       \t<div style=\"float:left;\">\n\t\t\t\t\t       \t\t<button type=\"button\" class=\"btn btn-warning\"(click)=\"back()\">Back</button>\n\t\t\t\t\t       \t</div>\n\t\t\t\t\t       \t<div style=\"float:left;min-width:10px;overflow:hidden;\">&nbsp;&nbsp;</div>\n\t\t\t\t\t       \t<div style=\"float:left;\">\n\t\t\t\t\t       \t\tTotal cost: €{{bk$.totalCharge}} <br />\n\t\t\t\t\t       \t\tCost of deposit: €{{bk$.deposit}}\n\t\t\t\t\t       \t</div>\n\t\t\t\t\t       \t<div style=\"float:right;\">\n\t\t\t\t\t       \t\t<button type=\"button\" (click)=\"payPal()\" style=\"float:right;\">\n\t\t\t\t\t       \t\t\t<input type=\"image\" src=\"https://www.paypalobjects.com/en_US/i/btn/btn_paynowCC_LG.gif\" border=\"0\">\n\t\t\t\t\t       \t\t</button>\t\t\t\t       \t\t\n\t\t\t\t\t       \t</div>\n\t\t\t\t\t    </p-tabPanel>\n\t\t\t\t\t</p-tabView>\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t`,\t\t\t\n\tstyles: [`\n            img {\n\t\t\t\t    float: left;\n\t\t\t\t    margin: 0 20px 20px 0;\n\t\t\t\t}\n\t\t\t\t\n\t\t\tp {\n\t\t\t\ttext-align: justify;\n\t\t\t\ttext-indent: 2em;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t.center-me {\n\t\t\t  margin: 0 auto;\n\t\t\t}\n\t\t\t.parent {\n\t\t\t  position: relative;\n\t\t\t}\n\t\t\t.child {\n\t\t\t  position: absolute;\n\t\t\t  top: 50%;\n\t\t\t  transform: translateY(-10%);\n\t\t\t}\n            `]\n\t\n})\n\nexport class BookingStage4Component {\n\tcomponentName:string = 'BookingStage4Component';\n\tlogdepth:number = 4;\n\n\tconstructor( private lg$: LoggerService, private bk$: BookingService, private router: Router  ) {}\n\t\n\tngOnInit() {\n    \tthis.lg$.setLogHdr(this.logdepth, this.componentName);\n        this.lg$.log(\"ngOnInit()\");\n        \n        if ( this.bk$.parking === undefined )\n        {\n        \tthis.bk$.parking = 0;\n        }\n        \n        // Total up the charge       \n        this.calculateTotalCharge();\n        \n\t}\n\n\tsubmit()\n\t{\n\t\tthis.lg$.log(\"---- Arrival Date: \" + this.bk$.arrivalDate );\n\t\tthis.lg$.log(\"---- Departure Date: \" + this.bk$.departureDate );\n\t\tthis.lg$.log(\"---- Number of People: \" + this.bk$.numberOfPeople );\n\t\tthis.lg$.log(\"---- Car parking: \" + this.bk$.parking);\n\t\t//this.router.navigate(['/booking3']);\n\t}\n\t\n\tcalculateTotalCharge()\n\t{\n\t\t// Total up the charge\n        // (€35 * number of nights) +\n        // (€5 for each additional person over 2) +\n        // (\n\t\tlet from:number = + ( this.bk$.arrivalDate.slice( 0, 2 ) );\n\t\tlet to:number = + ( this.bk$.departureDate.slice( 0, 2 ) );\n\t\tthis.bk$.numberOfNights = ( to - from );\n\t\tlet extraPeople:number = this.bk$.numberOfPeople - 2;\n\t\t// Basic cost for 2 nights is €40/night, for 3 nights + it's €35/night\n\t\tlet basic = this.bk$.numberOfNights < 3 ? (40 * this.bk$.numberOfNights) : (35 * this.bk$.numberOfNights);\n\t\tlet extraPeopleFee:number = 0;\n\t\tlet extraCarFee:number = 0;\n\t\t\n\t\tif ( extraPeople > 0 )\n\t\t{\n\t\t\textraPeopleFee = extraPeople * 5 * this.bk$.numberOfNights; // €5 extra per night per extra person\n\t\t}\n\t\tif ( this.bk$.parking > 1 )\n\t\t{\n\t\t\textraCarFee = (this.bk$.parking - 1) * 5 * this.bk$.numberOfNights; // €5 extra per night per extra car\n\t\t}\n\t\t\n\t\tthis.bk$.totalCharge = basic + extraPeopleFee + extraCarFee;\n\t\t\n\t\tthis.bk$.deposit = this.bk$.numberOfNights === 1 ? 40 : 50;\n\t\t//this.bk$.deposit = 50; //this.bk$.totalCharge/2;\n\t\t\n\t\tthis.lg$.trace(\"---- Num Nights: \" + this.bk$.numberOfNights);\n\t\tthis.lg$.trace(\"---- Basic charge: \" + basic);\n\t\tthis.lg$.log(\"---- Total Charge: \" + this.bk$.totalCharge);\n\t}\n\t\n\tback()\n\t{\n\t\tthis.lg$.log(\"-> back()\");\n\t\tthis.router.navigate(['/booking3']);\n\t}\n\t\n\tpayPal()\n\t{\n\t\tthis.lg$.log(\"-> payPal()\");\n\t\t\n\t\t// The user has pressed pay, so store their info as pending\n\t\t\n\t\t// Call the PayPal interface\n\t\tthis.bk$.payPal();\n\t}\n\t\n}"],"sourceRoot":"/source/"}