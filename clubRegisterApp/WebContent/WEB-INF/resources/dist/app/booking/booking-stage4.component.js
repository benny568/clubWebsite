System.register(["@angular/core","@angular/router","primeng/primeng","../services/logger.service","../services/booking.service"],function(t,n){"use strict";var e,a,i,r,o,s,l,p=(n&&n.id,this&&this.__decorate||function(t,n,e,a){var i,r=arguments.length,o=r<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,n,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(r<3?i(o):r>3?i(n,e,o):i(n,e))||o);return r>3&&o&&Object.defineProperty(n,e,o),o}),b=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)};return{setters:[function(t){e=t},function(t){a=t},function(t){i=t,r=t},function(t){o=t},function(t){s=t}],execute:function(){l=function(){function t(t,n,e){this.lg$=t,this.bk$=n,this.router=e,this.componentName="BookingStage4Component",this.logdepth=4}return t.prototype.ngOnInit=function(){this.lg$.setLogHdr(this.logdepth,this.componentName),this.lg$.log("ngOnInit()"),void 0==this.bk$.parking&&(this.bk$.parking=0),this.calculateTotalCharge()},t.prototype.submit=function(){this.lg$.log("---- Arrival Date: "+this.bk$.arrivalDate),this.lg$.log("---- Departure Date: "+this.bk$.departureDate),this.lg$.log("---- Number of People: "+this.bk$.numberOfPeople),this.lg$.log("---- Car parking: "+this.bk$.parking)},t.prototype.calculateTotalCharge=function(){var t=+this.bk$.arrivalDate.slice(0,2),n=+this.bk$.departureDate.slice(0,2);this.bk$.numberOfNights=n-t;var e=this.bk$.numberOfPeople-2,a=35*this.bk$.numberOfNights,i=0,r=0;e>0&&(i=5*e*this.bk$.numberOfNights),this.bk$.parking>1&&(r=5*(this.bk$.parking-1)*this.bk$.numberOfNights),this.bk$.totalCharge=a+i+r,this.bk$.deposit=35,this.lg$.log("---- Total Charge: "+this.bk$.totalCharge)},t.prototype.back=function(){this.lg$.log("-> back()"),this.router.navigate(["/booking3"])},t.prototype.payPal=function(){this.lg$.log("-> payPal()"),this.bk$.payPal()},t=p([e.Component({template:'\n\t\t\t<div class="panel">\n\t\t\t\t<div class="panel-heading avenue-heading">\n\t\t\t\t\tStep 4: Payment\n\t\t\t\t</div>\n\t\t\t\t<div class="panel-body avenue-body">\n\t\t\t\t\t<p-tabView orientation="left" class="parent">\n\t\t\t\t\t    <p-tabPanel header="Step 1: Dates" [disabled]="true">\n\t\t\t\t\t       Booking Step 1\n\t\t\t\t\t    </p-tabPanel>\n\t\t\t\t\t    <p-tabPanel header="Step 2: Parking" [disabled]="true">\n\t\t\t\t\t\t\tParking\n\t\t\t\t\t    </p-tabPanel>\n\t\t\t\t\t    <p-tabPanel header="Step 3: Contact Details" [disabled]="true">\n\t\t\t\t\t        Contact Details    \n\t\t\t\t\t    </p-tabPanel>\n\t\t\t\t\t    <p-tabPanel header="Step 4: Payment" [selected]="true">\n\t\t\t\t\t        Order summary:\n\t\t\t\t\t        <div style="border: 1px solid;">\n\t\t\t\t\t        \t<table>\n\t\t\t\t\t        \t\t<tr>\n\t\t\t\t\t        \t\t\t<td>Name: </td>\n\t\t\t\t\t        \t\t\t<td>{{bk$.firstname}}&nbsp;{{bk$.surname}}<td>\n\t\t\t\t\t        \t\t</tr>\n\t\t\t\t\t        \t\t<tr>\n\t\t\t\t\t        \t\t\t<td>Email:&nbsp;</td>\n\t\t\t\t\t        \t\t\t<td>{{bk$.email}}<td>\n\t\t\t\t\t        \t\t</tr>\n\t\t\t\t\t        \t\t<tr>\n\t\t\t\t\t        \t\t\t<td>Phone:&nbsp;</td>\n\t\t\t\t\t        \t\t\t<td>{{bk$.phone}}<td>\n\t\t\t\t\t        \t\t</tr>\n\t\t\t\t\t        \t\t<tr>\n\t\t\t\t\t        \t\t\t<td>Car Reg:&nbsp;</td>\n\t\t\t\t\t        \t\t\t<td>{{bk$.vehicalReg}}<td>\n\t\t\t\t\t        \t\t</tr>\n\t\t\t\t\t        \t\t<tr>\n\t\t\t\t\t        \t\t\t<td>Arrival:&nbsp;</td>\n\t\t\t\t\t        \t\t\t<td>{{bk$.arrivalDate}}<td>\n\t\t\t\t\t        \t\t</tr>\n\t\t\t\t\t        \t\t<tr>\n\t\t\t\t\t        \t\t\t<td>Departure:&nbsp;</td>\n\t\t\t\t\t        \t\t\t<td>{{bk$.departureDate}}<td>\n\t\t\t\t\t        \t\t</tr>\n\t\t\t\t\t        \t\t<tr>\n\t\t\t\t\t        \t\t\t<td>Nights:&nbsp;</td>\n\t\t\t\t\t        \t\t\t<td>{{bk$.numberOfNights}}<td>\n\t\t\t\t\t        \t\t</tr>\n\t\t\t\t\t        \t\t<tr>\n\t\t\t\t\t        \t\t\t<td>People:&nbsp;</td>\n\t\t\t\t\t        \t\t\t<td>{{bk$.numberOfPeople}}<td>\n\t\t\t\t\t        \t\t</tr>\n\t\t\t\t\t        \t\t<tr>\n\t\t\t\t\t        \t\t\t<td>Parking:&nbsp;</td>\n\t\t\t\t\t        \t\t\t<td>{{bk$.parking}} car<span *ngIf="(bk$.parking>1)">s</span><td>\n\t\t\t\t\t        \t\t</tr>\n\t\t\t\t\t        \t</table>\n\t\t\t\t\t       \t</div>\n\t\t\t\t\t       \t<br /><br />\n\t\t\t\t\t       \t<div style="float:left;">\n\t\t\t\t\t       \t\t<button type="button" class="btn btn-warning"(click)="back()">Back</button>\n\t\t\t\t\t       \t</div>\n\t\t\t\t\t       \t<div style="float:left;min-width:10px;overflow:hidden;">&nbsp;&nbsp;</div>\n\t\t\t\t\t       \t<div style="float:left;">\n\t\t\t\t\t       \t\tTotal cost: €{{bk$.totalCharge}} <br />\n\t\t\t\t\t       \t\tCost of deposit: €{{bk$.deposit}}\n\t\t\t\t\t       \t</div>\n\t\t\t\t\t       \t<div style="float:right;">\n\t\t\t\t\t       \t\t<button type="button" (click)="payPal()" style="float:right;">\n\t\t\t\t\t       \t\t\t<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_paynowCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">\n\t\t\t\t\t       \t\t</button>\t\t\t\t       \t\t\n\t\t\t\t\t       \t</div>\n\t\t\t\t\t    </p-tabPanel>\n\t\t\t\t\t</p-tabView>\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t',styles:["\n            img {\n\t\t\t\t    float: left;\n\t\t\t\t    margin: 0 20px 20px 0;\n\t\t\t\t}\n\t\t\t\t\n\t\t\tp {\n\t\t\t\ttext-align: justify;\n\t\t\t\ttext-indent: 2em;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t.center-me {\n\t\t\t  margin: 0 auto;\n\t\t\t}\n\t\t\t.parent {\n\t\t\t  position: relative;\n\t\t\t}\n\t\t\t.child {\n\t\t\t  position: absolute;\n\t\t\t  top: 50%;\n\t\t\t  transform: translateY(-10%);\n\t\t\t}\n            "],directives:[i.TabView,r.TabPanel]}),b("design:paramtypes",[o.LoggerService,s.BookingService,a.Router])],t)}(),t("BookingStage4Component",l)}}});