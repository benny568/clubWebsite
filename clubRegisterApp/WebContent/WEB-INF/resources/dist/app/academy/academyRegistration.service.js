System.register(["@angular/core","@angular/http","../services/logger.service","../services/common.service"],function(t,e){"use strict";var i,o,n,s,r,a,c,l,h=(e&&e.id,this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r}),p=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},m=this&&this.__param||function(t,e){return function(i,o){e(i,o,t)}};return{setters:[function(t){i=t,o=t},function(t){n=t,s=t,r=t},function(t){a=t},function(t){c=t}],execute:function(){l=function(){function t(t,e,i){this.lg$=t,this.com$=e,this._http=i,this.logdepth=3,this.loghdr="",this.serviceName="AcademyRegistrationService"}return t.prototype.calculateTotalCost=function(){this.payment=this.singleTerm===!0?60:120},t.prototype.payPal=function(){console.log("[AcademyRegistrationService]-> payPal()");var t=(JSON.stringify({amount:"110",currency_code:"EUR"}),new s.Headers({"Content-Type":"application/json"}));new r.RequestOptions({headers:t});console.log("    |- Storing registration details to server.."),this.storeDetails(),console.log("    |- Calling http post to PayPal..");var e="";e=this.singleTerm===!0?"https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=GCXHLWUZ3X9MJ":"https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=SYRJF6N5A488G",window.location.href=e},t.prototype.storeDetails=function(){this.logValues();var t=this.com$.getHome();console.log("-- home set to: "+t)},t.prototype.sendEmailConfirmation=function(){console.log("[BookingService]-->sendEmailConfirmation()..");this.com$.getHome()},t.prototype.handleError=function(t){console.log("===> Error posting academy registration to server: "+t),this.logValues()},t.prototype.logValues=function(){console.log("ACADEMY REGISTRATION: [ Firstname: "+this.firstname+", Surname: "+this.surname+", email: "+this.email+", dob: "+this.dob+", phone1: "+this.phone1+", phone2: "+this.phone2+", allergies: "+this.allergies+", asthma: "+this.asthma+", diabetes: "+this.diabetes+", medication: "+this.medication+", notes: "+this.notes+", regDate: "+this.regDate+", mother: "+this.mother+", father: "+this.father+", singleTerm: "+this.singleTerm+", secondChildDiscount: "+this.secondChildDiscount+", thirdChildDiscount: "+this.thirdChildDiscount+", generalConsent: "+this.generalConsent+", pictureConsent: "+this.pictureConsent+", payment: "+this.payment+" ]")},t=h([i.Injectable(),m(0,o.Inject(n.Http)),p("design:paramtypes",[a.LoggerService,c.CommonService,n.Http])],t)}(),t("AcademyRegistrationService",l)}}});