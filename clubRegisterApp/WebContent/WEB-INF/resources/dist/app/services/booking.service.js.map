{"version":3,"sources":["services/booking.service.ts"],"names":[],"mappings":"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","file":"services/booking.service.js","sourcesContent":["import { Injectable }     from '@angular/core';\nimport { Inject }         from '@angular/core';\nimport { Http }           from '@angular/http';\nimport { Headers }        from '@angular/http';\nimport { RequestOptions } from '@angular/http';\n\nimport { LoggerService }  from '../services/logger.service';\nimport { CommonService }  from '../services/common.service';\nimport { ServerMode }     from '../dao/server-mode';\nimport { Booking }        from '../dao/booking';\n\n@Injectable()\nexport class BookingService {\n\tfirstname               : string;\n\tsurname                 : string;\n\temail                   : string;\n\tphone                   : string;\n    country                 : string;\n\tarrivalDate\t\t        : string;\n\tdepartureDate\t        : string;\n\tnumberOfNights          : number;\n\tnumberOfPeople\t        : number;\n\tparking                 : number;\n\tvehicalReg              : string;\n\ttotalCharge\t\t\t\t: number;\n\tdeposit                 : number;\n\ttandc                   : number;\n\n    logdepth = 3;\n    loghdr = \"\";\n    serviceName = 'BookingService';\n    \n    constructor ( @Inject(Http) private lg$: LoggerService, private com$: CommonService, private _http: Http )\n\t{\n\t\t \n\t}\n    \n    ngOnInit()\n    {\n    \t//this.lg$.setLogHdr(this.logdepth, this.serviceName);\n    }\n\t\n\tpayPal()\n\t{\n\t\tconsole.log(\"[BookingService]-> payPal()\");\n\t\tlet body = JSON.stringify({amount:'110', currency_code: 'EUR'});\n\t    let headers = new Headers({ 'Content-Type': 'application/json' });\n\t    let options = new RequestOptions({ headers: headers });\n\t    \n\t    console.log(\"    |- Storing booking details to server..\");\n\t    this.storeBookingDetails();\n\t    \n\t    console.log(\"    |- Calling http post to PayPal..\");\n\t    \n\t    let loc = '';\n\t    if ( this.deposit === 50 )\n\t    {\n\t    \tloc = \t'https://www.paypal.com/cgi-bin/webscr?' +\n\t    \t\t\t'cmd=_s-xclick&' +\n\t    \t\t\t'hosted_button_id=V27T86UZWZ55C'; // €50\n\t    \t\t\t//'hosted_button_id=9RMD69P5JPRNQ'; // €35\n\t    \t\t\t//'hosted_button_id=9CQB2K78DC5DJ'; // 0.01 button\n\t    } else {\n\t    \tloc = \t'https://www.paypal.com/cgi-bin/webscr?' +\n\t\t\t'cmd=_s-xclick&' +\n\t\t\t'hosted_button_id=9346WKJ6NSDHQ'; // €40\n\t    }\n\t    \n\t    window.location.href = loc;\n\t}\n\t\n\tstoreBookingDetails()\n\t{\n\t\t//this.logValues();\n\t\t\n\t\tvar url = this.com$.getHome();\n\t\tconsole.log(\"-- home set to: \" + url);\n\t\t\n\t\tlet data = new Booking();\t\t\n\t\tdata.bookingid = 0;\n\t\tdata.firstname = this.firstname;\n\t\tdata.surname = this.surname;\n\t\tdata.email = this.email;\n\t\tdata.phone = this.phone;\n\t\tdata.country = this.country !== undefined ? this.country : 'None';\n\t\tdata.arrivalDate = this.arrivalDate;\n\t\tdata.departureDate = this.departureDate;\n\t\tdata.numberOfNights = this.numberOfNights;\n\t\tdata.numberOfPeople = this.numberOfPeople;\n\t\tdata.parking = this.parking;\n\t\tdata.vehicalReg = this.vehicalReg;\n\t\tdata.totalCharge = this.totalCharge;\n\t\tdata.deposit = this.deposit;\n\t\tdata.tandc = 1;\n\t\t\n\t\tlet headers = new Headers();\n\t    headers.append('Content-Type', 'application/json');\n\t    let options = new RequestOptions({ headers: headers });\n\t\t\n\t    console.log(\"-- posting booking to server..[\" + url + '/booking' + \"]\");\n\t\tthis._http.post(url + '/booking', \n\t\t\t\tdata, {headers:headers})\n\t\t\t.subscribe(\n\t            \tdata => console.log(\"POST of booking successfull\"),\n\t            \terror => this.handleError(error), //console.log(\"===> Error posting booking to server: \" + error),\n\t            \t() => console.log(\" <=== POST of booking successfull <====\")\n\t            );\n\t}\n\t\n\tsendEmailConfirmation()\n\t{\n\t\tconsole.log(\"[BookingService]-->sendEmailConfirmation()..\");\n\t\tvar url = this.com$.getHome();\n\t\t\n\t\tlet data = new Booking();\t\t\n\t\tdata.bookingid = 0;\n\t\tdata.firstname = this.firstname;\n\t\tdata.surname = this.surname;\n\t\tdata.email = this.email;\n\t\tdata.phone = this.phone;\n\t\tdata.country = this.country !== undefined ? this.country : 'None';\n\t\tdata.arrivalDate = this.arrivalDate;\n\t\tdata.departureDate = this.departureDate;\n\t\tdata.numberOfNights = this.numberOfNights;\n\t\tdata.numberOfPeople = this.numberOfPeople;\n\t\tdata.parking = this.parking;\n\t\tdata.vehicalReg = this.vehicalReg;\n\t\tdata.totalCharge = this.totalCharge;\n\t\tdata.deposit = this.deposit;\n\t\tdata.tandc = 1;\n\t\t\n\t\tconsole.log(\"[BookingService]-->sendEmailConfirmation() should be sending email with following details:\");\n\t\tconsole.log(\"Name: \" + data.firstname + \" \" + data.surname);\n\t\tconsole.log(\"email: \" + data.email);\n\t\t\n\t\tlet headers = new Headers();\n\t    headers.append('Content-Type', 'application/json');\n\t    let options = new RequestOptions({ headers: headers });\n\t\t\n//\t\tthis._http.post(url + '/confirmbooking', \n//\t\t\t\tdata, {headers:headers})\n//\t\t\t.subscribe(\n//\t            \tdata => console.log(\"Confirmation email sent successfull\"),\n//\t            \terror => console.log(\"===> Error sending confirmation email: \" + error),\n//\t            \t() => console.log(\" <=== Confirmation email sent successfull <====\")\n//\t            );\n\t}\n\t\n\thandleError(error)\n\t{\n\t\tconsole.log(\"===> Error posting booking to server: \" + error);\n\t\tthis.logValues();\n\t}\n\t\n\tlogValues()\n\t{\n\t\tconsole.error(\n\t\t\t\t\"BOOKING ERROR: There was an error adding the following to the database: [ \" +\n\t\t\t\t\"firstname: \" + this.firstname + \", \" +\n\t\t\t\t\"surname:  \" + this.surname + \", \" +\n\t\t\t\t\"email:  \" + this.email + \", \" +\n\t\t\t\t\"phone:  \" + this.phone + \", \" +\n\t\t\t\t\"country:  \" + this.country + \", \" +\n\t\t\t\t\"arrivalDate:  \" + this.arrivalDate + \", \" +\n\t\t\t\t\"departureDate:  \" + this.departureDate + \", \" +\n\t\t\t\t\"numberOfNights:  \" + this.numberOfNights + \", \" +\n\t\t\t\t\"numberOfPeople:  \" + this.numberOfPeople + \", \" +\n\t\t\t\t\"parking:  \" + this.parking + \", \" +\n\t\t\t\t\"vehicalReg:  \" + this.vehicalReg + \", \" +\n\t\t\t\t\"totalCharge:  \" + this.totalCharge + \", \" +\n\t\t\t\t\"deposit:  \" + this.deposit + \", \" +\n\t\t\t\t\"tandc:  \" + this.tandc + \" ]\"\n\t\t\t\t);\n\t}\n\t\t\n\tlogValuesOLD()\n\t{\n\t\tconsole.log(\"Booking Details:\");\n\t\tconsole.log(\"================================\");\n\t\tconsole.log(\"firstname: \" + this.firstname); \n\t\tconsole.log(\"surname:  \" + this.surname);\n\t\tconsole.log(\"email:  \" + this.email);\n\t\tconsole.log(\"phone:  \" + this.phone);\n\t\tconsole.log(\"country:  \" + this.country);\n\t\tconsole.log(\"arrivalDate:  \" + this.arrivalDate);\n\t\tconsole.log(\"departureDate:  \" + this.departureDate);\n\t\tconsole.log(\"numberOfNights:  \" + this.numberOfNights);\n\t\tconsole.log(\"numberOfPeople:  \" + this.numberOfPeople);\n\t\tconsole.log(\"parking:  \" + this.parking);\n\t\tconsole.log(\"vehicalReg:  \" + this.vehicalReg);\n\t\tconsole.log(\"totalCharge:  \" + this.totalCharge);\n\t\tconsole.log(\"deposit:  \" + this.deposit);\n\t\tconsole.log(\"tandc:  \" + this.tandc);\n\t}\n\t\n\ttestIpn()\n\t{\n\t\tlet params:string = \"charset=UTF-8&payer_email=odalybr@hotmail.com&receiver_email=treasurer@avenueunited.ie&address_country_code=IE\"\n\t\t\t\t\t\t\t+ \"&payer_status=verified&receiver_id=NDYSM5YGRVU2Y&address_state=Clare&item_number=&transaction_subject=\"\n\t\t\t\t\t\t\t+ \"&address_name=Brendan O'Daly&address_status=confirmed&residence_country=IE&txn_id=0WE14547FT718715A\"\n\t\t\t\t\t\t\t+ \"&protection_eligibility=Eligible&payment_gross=&verify_sign=AcE2uah9fzGQIYibH799J4hdOjH.ANduMFrh6.iW-t0JOFCS2jDIcIKy\"\n\t\t\t\t\t\t\t+ \"&first_name=Brendan&payment_date=06:29:55 Jul 14, 2016 PDT&quantity=1&business=treasurer@avenueunited.ie\"\n\t\t\t\t\t\t\t+ \"&address_country=Ireland&payment_status=Completed&custom=&last_name=O'Daly&item_name=Testing&notify_version=3.8\"\n\t\t\t\t\t\t\t+ \"&mc_currency=EUR&address_city=Ennis&payment_type=instant&txn_type=web_accept&address_street=Reaskaun Larchill\"\n\t\t\t\t\t\t\t+ \"&payment_fee=&payer_id=CJ9WTRLB4Z6D6&address_zip=&mc_gross=0.01&mc_fee=0.01&ipn_track_id=a089ad032fd6\";\n\t\tlet url:string = \"http://localhost:8080/clubRegisterApp/ipn\";\n\t\t\n\t\tlet headers = new Headers();\n\t    //headers.append('Content-Type', 'application/json');\n\t    let options = new RequestOptions({ headers: headers });\n\t\t\n\t    console.log(\"*****--->> Sending IPN...\");\n\t\tthis._http.post(url + '?' + params, \n\t\t\t\tnull, {headers:headers})\n\t\t\t.subscribe(\n\t            \tdata => this.checkOKresp(data),\n\t            \terror => console.log(\"===> Error sending IPN: \" + error),\n\t            \t() => console.log(\" <=== IPN sent successfull <====\")\n\t            );\n\t}\n\t\n\tcheckOKresp(resp)\n\t{\n\t\tconsole.log(\"IPN Test: Got first response: \" + resp );\n\t\t\n\t\tlet url:string = \"http://localhost:8080/clubRegisterApp/ipn\";\n\t\tthis._http.post( url, \"VERIFIED\", null )\n\t\t\t.subscribe(\n\t            \tdata => console.log(\"IPN VERIFICATION sent.\"),\n\t            \terror => console.log(\"===> Error sending IPN VERIFICATION: \" + error),\n\t            \t() => console.log(\" <=== IPN verified successfull <====\")\n\t            );\n\t}\n\n}"],"sourceRoot":"/source/"}