{"version":3,"sources":["components/memberRegister.component.ts"],"names":[],"mappings":"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","file":"components/memberRegister.component.js","sourcesContent":["import { Component, \n         ViewChild,\n         OnInit     }         from '@angular/core';\nimport { Router }             from '@angular/router';\n\nimport { MODAL_DIRECTIVES }   from 'ng2-bs3-modal/ng2-bs3-modal';\nimport { ModalComponent }     from 'ng2-bs3-modal/ng2-bs3-modal';\n\nimport { SessionDataService } from '../services/session-data.service';\nimport { LoggerService }      from '../services/logger.service';\nimport { Member }             from '../dao/member';\n\n\n@Component({\n\t//templateUrl: 'app/htmltemplates/memberRegister.component.html',\n\ttemplate: `\n\t\t\t\t<div class=\"container\">\n\t\t\t\t\t<div style=\"margin-left:auto;margin-right:auto;width:80%;\">\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"col-md-10\">\n\t\t\t\t\t\t\t\t\t<h3>Club Register 2016 Season</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"col-md-2\">\n\t\t\t\t\t\t\t\t\t<div  style=\"float:right; align:bottom;\">\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\" \n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-warning btn-xs\" \n\t\t\t\t\t\t\t\t\t\t\t\t(click)=\"allMembersAdmin()\" \n\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"cursor:pointer;\" \n\t\t\t\t\t\t\t\t\t\t\t\tdata-toggle=\"tooltip\" \n\t\t\t\t\t\t\t\t\t\t\t\tdata-placement=\"right\">All Members</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div *ngFor=\"let team of _dataService.dsTeams\">\n\t\t\t\t\t\t\t\t\t<div class=\"panel\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"panel-heading avenue-heading\" style=\"min-height:35px;\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-10 teamHdr\" *ngIf=\"!showArray[team.id]\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span \tclass=\"glyphicon glyphicon-triangle-bottom\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(click)=\"getMembers4team(team.id)\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"cursor:pointer;\">\n\t\t\t\t\t\t\t\t\t\t\t\t</span> \n\t\t\t\t\t\t\t\t\t\t\t\t{{team.name}}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-10 teamHdr\" *ngIf=\"showArray[team.id]\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span \tclass=\"glyphicon \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tglyphicon-triangle-top\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(click)=\"toggleView(team.id)\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"cursor:pointer;\">\n\t\t\t\t\t\t\t\t\t\t\t\t</span> \n\t\t\t\t\t\t\t\t\t\t\t\t{{team.name}}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div  style=\"float:right; align:bottom;\">\n\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-warning btn-xs\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tng-click=\"addMember(team.id)\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"cursor:pointer;\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-toggle=\"tooltip\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-placement=\"right\">Add Member</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t    \t\t<div class=\"panel-body avenue-body\" style=\"height:100%;\">\n\t\t\t\t\t\t\t\t\t\t\t<div *ngIf=\"showArray[team.id]\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t\t\t\t\t    <div class=\"col-md-3 tblHdr\">Name</div>\n\t\t\t\t\t\t\t\t\t\t\t\t    <div class=\"col-md-5 tblHdr\">Address</div>\n\t\t\t\t\t\t\t\t\t\t\t\t    <div class=\"col-md-2 tblHdr\">Phone</div>\n\t\t\t\t\t\t\t\t\t\t\t\t    <div class=\"col-md-2 tblHdr\">Operations</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div> <!-- end of row -->\n\t\t\t\t\t\t\t\t\t\t\t\t<div *ngFor=\"let member of _dataService.dsTeamMembers[team.id]\" class=\"row light-line\">\t\t\t\t\t\t\t    \n\t\t\t\t\t\t\t\t\t\t    \t\t<div class=\"col-md-3\">{{member.name}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-5\">{{member.address}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-md-2\">{{member.phone}}</div>\n\t\t\t\t\t\t\t\t\t\t    \t\t<div class=\"col-md-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t    \t<i *ngIf=\"(member.amount>0)\" \n\t\t\t\t\t\t\t\t\t\t\t\t    \t\tclass=\"glyphicon glyphicon-euro\" \n\t\t\t\t\t\t\t\t\t\t\t\t    \t\tdata-toggle=\"tooltip\" \n\t\t\t\t\t\t\t\t\t\t\t\t    \t\tdata-placement=\"right\" \n\t\t\t\t\t\t\t\t\t\t\t\t    \t\ttitle=\"Paid\" \n\t\t\t\t\t\t\t\t\t\t\t\t    \t\tstyle=\"float:left;\">\n\t\t\t\t\t\t\t\t\t\t\t\t    \t</i>&nbsp;\n\t\t\t\t\t\t\t\t\t\t\t\t    \t<i *ngIf=\"!(member.amount>0)\" \n\t\t\t\t\t\t\t\t\t\t\t\t    \t\tclass=\"glyphicon glyphicon-remove\" \n\t\t\t\t\t\t\t\t\t\t\t\t    \t\tdata-toggle=\"tooltip\" \n\t\t\t\t\t\t\t\t\t\t\t\t    \t\tdata-placement=\"right\" \n\t\t\t\t\t\t\t\t\t\t\t\t    \t\ttitle=\"Not Paid\" \n\t\t\t\t\t\t\t\t\t\t\t\t    \t\tstyle=\"float:left;\">\n\t\t\t\t\t\t\t\t\t\t\t\t    \t</i>&nbsp;\n\t\t\t\t\t\t\t\t\t\t\t\t    \t<i (click)=\"editMember(member)\" \n\t\t\t\t\t\t\t\t\t\t\t\t    \t\tstyle=\"cursor:pointer;\" \n\t\t\t\t\t\t\t\t\t\t\t\t    \t\tdata-toggle=\"tooltip\" \n\t\t\t\t\t\t\t\t\t\t\t\t    \t\tdata-placement=\"right\" \n\t\t\t\t\t\t\t\t\t\t\t\t    \t\ttitle=\"Edit\" \n\t\t\t\t\t\t\t\t\t\t\t\t    \t\tclass=\"glyphicon glyphicon-pencil\" \n\t\t\t\t\t\t\t\t\t\t\t\t    \t\tstyle=\"float:left;padding-left:10px;\"> \n\t\t\t\t\t\t\t\t\t\t\t\t    \t</i>&nbsp;\n\t\t\t\t\t\t\t\t\t\t\t\t    \t<i (click)=\"deleteMember(member)\" \n\t\t\t\t\t\t\t\t\t\t\t\t    \t\tstyle=\"cursor:pointer;\" \n\t\t\t\t\t\t\t\t\t\t\t\t    \t\tdata-toggle=\"tooltip\" \n\t\t\t\t\t\t\t\t\t\t\t\t    \t\tdata-placement=\"right\" \n\t\t\t\t\t\t\t\t\t\t\t\t    \t\ttitle=\"Delete\" \n\t\t\t\t\t\t\t\t\t\t\t\t    \t\tclass=\"glyphicon glyphicon-trash\" \n\t\t\t\t\t\t\t\t\t\t\t\t    \t\tstyle=\"float:left;padding-left:10px;\">\n\t\t\t\t\t\t\t\t\t\t\t\t    \t</i>\n\t\t\t\t\t\t\t\t\t\t\t\t    </div>\t\n\t\t\t\t\t\t\t\t\t\t\t    </div> <!-- end row -->\n\t\t\t\t\t\t\t\t\t\t\t</div> <!-- end ng-show -->\n\t\t\t\t\t\t\t\t\t\t</div> <!-- end panel body -->\n\t\t\t\t\t\t\t\t\t</div> <!-- end of panel -->\t\t\t\n\t\t\t\t\t\t\t\t</div> <!-- End of ng-repeat -->\n\t\t\t\t\t\t\t</div> <!-- end row -->\n\t\t\t\t\t</div>\n\t\t\t\t</div> <!-- end of container -->\n\t`\n})\n\nexport class MemberRegisterComponent implements OnInit\n{\n\tcomponentName = 'MemberRegisterComponent'; \n\tlogdepth = 2;\n\tshowArray = [];\n\t\n\t// Modal stuff\n\t@ViewChild('modal')\n\tmodal: ModalComponent;\n\titems: string[] = ['item1', 'item2', 'item3'];\n    selected: string;\n    output: string;\n    model: Member = new Member();\n\n    index: number = 0;\n    backdropOptions = [true, false, 'static'];\n\n    animation: boolean = true;\n    keyboard: boolean = true;\n    backdrop: string | boolean = true;\n\t\n    constructor( private d$: SessionDataService, private router: Router, private lg$: LoggerService ) {}\n\t\n\tngOnInit()\n\t{\n\t\tthis.lg$.setLogHdr(this.logdepth, this.componentName);\n\t\tthis.lg$.log(\"-> ngOnInit()\");\n\n\t\tthis.d$.dsGetAllMembers();\n\t\t\n\t\tthis.lg$.log(\"<- ngOnInit\");\n\t}\n\t\n\t\n\t/**********************************************************\n\t * Name:\t\tgetAllMembers()\n\t * Description:\tRetrieves all club members from the server\n\t * Scope:\t\tInternal\n\t * Params in:\tNone\n\t * Return:\t\tSets $scope.members\n\t **********************************************************/\n\tgetAllMembers() {\n\t\t\n\t\tthis.lg$.log(\"-> getAllMembers()\");\n\t\tthis.lg$.log(\"    | calling dataService.getAllMembers()..\");\n\t\t\n\t\tthis.d$.dsGetAllMembers();\n\t\t\n\t\tthis.lg$.log(\"<- getAllMembers()\");\n\t}\n\t\n\t\n\t/**********************************************************\n\t * Name:\t\tgetTeams()\n\t * Description:\tRetrieves a list of teams from the server\n\t * Scope:\t\tInternal\n\t * Params in:\tNone\n\t * Return:\t\tSets $scope.teams\n\t **********************************************************/\n\tgetTeams() {\n\t\tthis.lg$.log(\"-> getTeams()\");\n\t\tthis.lg$.log(\"   | calling dataService.dsGetTeams()..\");\n\t\tthis.d$.dsGetTeams();\n\n\t}\n\t\n\t\n\t/**********************************************************\n\t * Name:\t\ttoggleView()\n\t * Description:\tUsed to make the member list for a team\n\t * \t\t\t\tvisible or hidden when the user clicks on it\n\t * Scope:\t\tExternally accessible\n\t * Params in:\tID of the team in question.\n\t * Return:\t\tSets showArray[teamId] to false.\n\t **********************************************************/\n\ttoggleView(teamId) \n\t{\n\t\t//log.trace(this.loghdr+\"-> toggleView(\"+teamId+\")\");\n\t\tthis.showArray[teamId] = !this.showArray[teamId];\n\t\t//log.trace(this.loghdr+\"    showArray[\"+teamId+\") set to: \"+this.showArray[teamId]);\n\t\t//log.trace(this.loghdr+\"<- toggleView()\");\n\t}\n\t\n\t/**********************************************************\n\t * Name:\t\tgetMembers4team()\n\t * Description:\tLoad the members for a particular team into\n\t * \t\t\t\tthe dataService\n\t * Params in:\tID of the team in question.\n\t * Return:\t\tSets showArray[teamId] to true.\n\t **********************************************************/\n\tgetMembers4team(teamId)\n\t{\n\t\tthis.lg$.log(\"-> getMembers4team(\" + teamId + \")\");\n\t\tthis.showArray[teamId] = 'true';\n\t\t\n\t\t// Clear the array first\n\t\tthis.d$.dsTeamMembers[teamId] = new Array<Member>();\n\t\t// Populate the Team members from the complete list of members\n\t\tfor ( var i = 0; i < this.d$.dsAllMembers.length; i++ )\n\t\t{\n\t\t\tif ( this.d$.dsAllMembers[i].team === teamId )\n\t\t\t{\n\t\t\t\t// Find the members for this team and add them to the array\n\t\t\t\tthis.d$.dsTeamMembers[teamId].push( this.d$.dsAllMembers[i] );\n\t\t\t\t//log.trace(loghdr + \"      |- found team member (\" + this.d$.dsAllMembers[i].name + \"), adding to array..\");\n\t\t\t}\n\t\t}\n\t\tthis.lg$.log(\"<-getMembers4team()\");\n\t}\n\t \n\t/**********************************************************\n     * Name:\t\tallMembersAdmin()\n     * Description:\tSwitch to all members admin page\n     * Scope:\t\tInternal\n     * Params in:\t\n     * Return:\t\t \n     **********************************************************/\n\tallMembersAdmin()\n\t{\n\t\t// TODO\n\t}\n\t\n\t\n\t/**********************************************************\n\t * Name:\t\teditMember()\n\t * Description:\tEdit an existing member, update to server\n\t * \t\t\t\tand update local in-memory copy\n\t * Scope:\t\tExternally accessible\n\t * Params in:\tthisMember: the member to edit\n\t * Return:\t\tSets this.d$.dsTeamMembers[team].<this member>\n\t **********************************************************/\t\n\teditMember(member)\n\t{\n\t\tthis.router.navigate( ['EditMember', {member: member}] );\n\t\t//this.modal.open();\n\t}\n\t\n\tclosed() {\n        this.output = '(closed) ' + this.selected;\n    }\n\n    dismissed() {\n        this.output = '(dismissed)';\n    }\n\n    opened() {\n        this.output = '(opened)';\n    }\n\n    navigate() {\n        //this.router.navigateByUrl('/hello');\n    }\n\n\t\n}"],"sourceRoot":"/source/"}