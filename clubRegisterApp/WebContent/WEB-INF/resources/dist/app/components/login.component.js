System.register(["@angular/core","@angular/common","@angular/router","../services/session-data.service","../services/logger.service"],function(t,e){"use strict";var n,o,i,r,s,a,u=(e&&e.id,this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}),l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};return{setters:[function(t){n=t},function(t){o=t},function(t){i=t},function(t){r=t},function(t){s=t}],execute:function(){a=function(){function t(t,e,n){this.lg$=t,this.d$=e,this._router=n,this.componentName="LoginComponent",this.logdepth=2,this.lg$.setLogHdr(this.logdepth,this.componentName)}return t.prototype.login=function(t){this.lg$.log("#### login() function called..."),this.lg$.log("Username: "+t.username),this.lg$.log("Password: "+t.password)},t.prototype.onSubmit=function(t){var e=this;this.lg$.log("->onSubmit(): you submitted value:"+t);var n=this.d$.authenticate(t.username,t.password);n.subscribe(function(n){return e.getUserDetails(t.username,n)},function(t){return console.log("ERROR: "+t)})},t.prototype.getUserDetails=function(t,e){var n=this;this.lg$.log("->getUserDetails("+t+"): "+e),this.d$.dsCurrentUser.username=t;var o=this.d$.getUser(t);o.subscribe(function(t){return n.d$.dsCurrentUser=t},function(t){return console.log("ERROR: "+t)},function(){return n.goToAdmin(t)})},t.prototype.goToAdmin=function(t){this.lg$.log("->goToAdmin("+t+")"),this.d$.dsCurrentUser.username=t,this.d$.dsAuthenticated=!0,this.lg$.log("######>>>>>> AUTHENTICATED: ["+this.d$.dsCurrentUser.username+"] <<<<<<#####"),this.lg$.log("Authenticated: "+this.d$.dsAuthenticated),this._router.navigate(["AdminHome",{}])},t=u([n.Component({template:'\n\t\t\t\t<div class="container">\n\t\t\t\t\t<div class="loginbox">\n\t\t\t\t\t\t<div class="loginhead"><i class="glyphicon glyphicon-user" style="align:right;margin-right:0px;"></i> Please Login\n\t\t\t\t\t\t<div class="loginbody">\n\t\t\t\t\t\t\t<form #f="ngForm" (ngSubmit)="onSubmit(f.value)" >\n\t\t\t\t\t\t\t\t<input \ttype="text" \n\t\t\t\t\t\t\t\t\t\tname=\'j_username\' \n\t\t\t\t\t\t\t\t\t\tid="j_username" \n\t\t\t\t\t\t\t\t\t\tngControl="username" \n\t\t\t\t\t\t\t\t\t\tplaceholder="Username" \n\t\t\t\t\t\t\t\t\t\trequired />\n\t\t\t\t\t\t\t\t<input \ttype="password" \n\t\t\t\t\t\t\t\t\t\tname=\'j_password\' \n\t\t\t\t\t\t\t\t\t\tid="j_password" \n\t\t\t\t\t\t\t\t\t\tngControl="password" \n\t\t\t\t\t\t\t\t\t\tplaceholder="Password" \n\t\t\t\t\t\t\t\t\t\trequired />\n\t\t\t\t\t\t\t\t<input type="submit" value="Login Now">\n\t\t\t\t\t\t\t\t<!-- <button type="button" (click)="login(f.value)">Login Now</button> -->\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</div> <!-- end loginbody -->\n\t\t\t\t\t</div> <!-- end loginbox -->\n\t\t\t\t</div>\n\t',directives:[o.FORM_DIRECTIVES]}),l("design:paramtypes",[s.LoggerService,r.SessionDataService,i.Router])],t)}(),t("LoginComponent",a)}}});